<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.1/css/swiper.min.css">
	<link href="./resources/css/mainpage.css" rel="stylesheet">
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.1/js/swiper.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script th:inline="javascript">

//ì¥ì†Œë³„ íŒì—…ì°½
  function placePopup(placeName,imagePath) {
    $.ajax({
      url: '/main/getPlaceInfo',
      type: 'GET',
      data: { placeName: placeName },
      success: function(response) {
        openPopup(response.placeName, response.placeAddress, response.placePhone, response.placeContent, response.placeInfo, response.placeGood, imagePath);
      },
      error: function(error) {
        console.error('Error:', error);
      }
    });
  }

  function openPopup(placeName,placeAddress,  placePhone, placeContent, placeInfo, placeGood, imagePath) {
	  var popupContainer = document.createElement("div");
	  popupContainer.setAttribute("id", "place_popupContainer");
	  popupContainer.setAttribute("class", "place_popup-container");

	  var popup = document.createElement("div");
	  popup.setAttribute("class", "place_popup");

	  popup.innerHTML = `
	  <br>
	  <div class="popup_imgcontainer">
		<img src="${imagePath}">
		</div>
		<br><hr><br><br>
	    <h1>${placeName}</h1>
	    <br>
	    <p>ğŸ“ ${placeAddress}</p>
	    <p>ğŸ“ ${placePhone}</p>
	    <p>âœ”ï¸ ${placeInfo}</p>
	    <br>

	    <p>${placeContent}</p><br><br><hr>
	    <br>
	    <p class="recommend"><img src="/resources/image/insta_heart.png"/><span>ì¶”ì²œìˆ˜: ${placeGood}</span></p>
	    <span class="place_popup-close" onclick="closePopup()">X </span>
	    	`;

	  popupContainer.appendChild(popup);
	  document.body.appendChild(popupContainer);
	}


  function closePopup() {
    var popupContainer = document.getElementById("place_popupContainer");
    if (popupContainer) {
      popupContainer.parentNode.removeChild(popupContainer);
    }
  }
</script>

<style type="text/css">

</style>
</head>
<body>

	<div id="back">
		<img src="/resources/image/back.png" id="back_img">
		<header>
			<div class="a">
				<div id="logo">
					<img src="/resources/image/logo2.png" alt="Logo">
				</div>
				<!-- ë¡œê·¸ì¸ì „ --> 
				<div th:if="${session.login == null}" id="top_menu">
					<a href="/login">ë¡œê·¸ì¸</a> <a href="/login/registerform">íšŒì›ê°€ì…</a>
				</div>
				<!-- ë¡œê·¸ì¸ í›„ -->
				<div th:if="${session.login != null}" id="top_menu">
					<a href="/login/logout">ë¡œê·¸ì•„ì›ƒ</a><a href="/login/usermain">ë§ˆì´í˜ì´ì§€</a>
				</div>
			</div>
			<div id="nav">
				<label for=""><a href="/plan">ì¼ì •ë§Œë“¤ê¸°</a></label>
				 <!-- ì½”ìŠ¤ ë””í…Œì¼ ì„ì‹œë¡œí•´ë†ˆ   -->
				<label for=""><a href="/login/recommandcourse">ì½”ìŠ¤ë³´ê¸°</a></label>
				<label for=""><a href="/community/communitymain">ì»¤ë®¤ë‹ˆí‹°</a></label>
				<label for=""><a href="/chatting">ë™í–‰êµ¬í•˜ê¸°</a></label>
			</div>

		</header>
		<label id="main_text"> ì œì£¼ë„ ì—¬í–‰ì˜ ëª¨ë“ ê²ƒ </label>
	</div>
	<div id="place_text">
		<br> <br>
		<p id="place_text_korean">ì œì£¼ë„ í•«í”Œë ˆì´ìŠ¤</p>
		<p id="place_text_english">Hot Place</p>
		<br> <br>
	</div>
	<div class="swiper-container" id="swiper-container-hotPlace">
	  <div class="swiper-wrapper">
	    <div th:each="list : ${list}" class="swiper-slide">
	      <div class="hot_img">
	        <a href="javascript:void(0);" onclick="placePopup(this.getAttribute('data-place-name'), this.getAttribute('data-image-path'))" th:data-place-name="${list.placeName}" th:data-image-path="@{/resources/image/place/__${list.placeName}__.jpg}">
	          <img th:src="@{/resources/image/place/__${list.placeName}__.jpg}">
	        </a>
	      </div>
	      <div th:text="${list.placeName}" class="hot_text"></div>
	    </div>
	  </div>

	  <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
	  <div class="swiper-button-next" id="swiper-button-next-hotPlace"></div>
	  <!-- ë‹¤ìŒ ë²„íŠ¼ (ì˜¤ë¥¸ìª½ì— ìˆëŠ” ë²„íŠ¼) -->
	  <div class="swiper-button-prev" id="swiper-button-prev-hotPlace"></div>
	  <!-- ì´ì „ ë²„íŠ¼ -->
	
	  <!-- í˜ì´ì§• -->
	  <div class="swiper-pagination" id="swiper-pagination-hotPlace"></div>
	</div>



	<div id="place_text">
		<br> <br>
		<p id="place_text_korean">ì½”ìŠ¤ì¶”ì²œ</p>
		<p id="place_text_english">Course</p>
		<br> <br>
	</div>
	<div class="swiper-container" id="swiper-container-course">
		<div class="swiper-wrapper">
			<div class="swiper-slide">
				<a href="#"><img src="/resources/image/udo.jpg"></a>
			</div>
			<div class="swiper-slide">
				<a href="#"><img src="/resources/image/udo.jpg"></a>
			</div>
			<div class="swiper-slide">
				<a href="#"><img src="/resources/image/udo.jpg"></a>
			</div>
			<div class="swiper-slide">
				<a href="#"><img src="/resources/image/udo.jpg"></a>
			</div>
			<div class="swiper-slide">
				<a href="#"><img src="/resources/image/udo.jpg"></a>
			</div>
			<div class="swiper-slide" style="font-size: 50pt;">- ë -</div>
		</div>

		<!-- ë„¤ë¹„ê²Œì´ì…˜ -->
		<div class="swiper-button-next" id="swiper-button-next-course"></div>
		<!-- ë‹¤ìŒ ë²„íŠ¼ (ì˜¤ë¥¸ìª½ì— ìˆëŠ” ë²„íŠ¼) -->
		<div class="swiper-button-prev" id="swiper-button-prev-course"></div>
		<!-- ì´ì „ ë²„íŠ¼ -->

		<!-- í˜ì´ì§• -->
		<div class="swiper-pagination" id="swiper-pagination-course"></div>
	</div>
	<br>
	<br>
	<br>
	<br>
	<div id="place_text">
		<p id="place_text_korean">ì–´ë–¤ ì—¬í–‰ì„ ê³„íší•˜ê³  ê³„ì‹œë‚˜ìš”?</p>
		<p id="place_text_english">Hash Tag</p>
		<br> <br>
	</div>
	<div align="center" id="tag1">#ë°˜ë ¤ë™ë¬¼ë™ë°˜</div>
	<div class="instagram-feed-container">
        <div th:each="animalList: ${animalList}" class="instagram-feed">
            <div class="image-container">
                <a href="javascript:void(0);" onclick="placePopup(this.getAttribute('data-place-name'), this.getAttribute('data-image-path'))" th:data-place-name="${animalList.placeName}" th:data-image-path="@{/resources/image/place/__${animalList.placeName}__.jpg}"><img th:src="@{/resources/image/place/__${animalList.placeName}__.jpg}" alt="Instagram Feed Image"></a>
            </div>
            <div class="icons">
                <div class="left-icons">
                    <img src="/resources/image/insta_heart.png" alt="Heart Icon" class="fas fa-heart">
                    <img src="/resources/image/insta_chat.png" alt="Comment Icon" class="fas fa-comment">
                    <img src="/resources/image/insta_share.png" alt="Share Icon" class="fas fa-share">
                </div>
                <div class="right-icons">
                    <img src="/resources/image/insta_store.png" alt="Bookmark Icon" class="fas fa-bookmark">
                </div>
            </div>
            <div class="hashtags">
                <a href="javascript:void(0);" onclick="placePopup(this.getAttribute('data-place-name'), this.getAttribute('data-image-path'))" th:data-place-name="${animalList.placeName}" th:data-image-path="@{/resources/image/place/__${animalList.placeName}__.jpg}"><div>#<span th:text="${animalList.placeName}"></span></div></a>
            </div>
        </div>
	</div>


	<div align="center" id="tag1">#ë¶€ëª¨ë‹˜ë™ë°˜</div>
		<div class="instagram-feed-container" id="instagram-feed-container2">
        <div th:each="parentsList:${parentsList}" class="instagram-feed">
            <div class="image-container">
                <a href="javascript:void(0);" onclick="placePopup(this.getAttribute('data-place-name'), this.getAttribute('data-image-path'))" th:data-place-name="${parentsList.placeName}" th:data-image-path="@{/resources/image/place/__${parentsList.placeName}__.jpg}"><img th:src="@{/resources/image/place/__${parentsList.placeName}__.jpg}" alt="Instagram Feed Image"></a>
            </div>
            <div class="icons">
                <div class="left-icons">
                    <img src="/resources/image/insta_heart.png" alt="Heart Icon" class="fas fa-heart">
                    <img src="/resources/image/insta_chat.png" alt="Comment Icon" class="fas fa-comment">
                    <img src="/resources/image/insta_share.png" alt="Share Icon" class="fas fa-share">
                </div>
                <div class="right-icons">
                    <img src="/resources/image/insta_store.png" alt="Bookmark Icon" class="fas fa-bookmark">
                </div>
            </div>
            <div class="hashtags">
                <a href="javascript:void(0);" onclick="placePopup(this.getAttribute('data-place-name'), this.getAttribute('data-image-path'))" th:data-place-name="${parentsList.placeName}" th:data-image-path="@{/resources/image/place/__${parentsList.placeName}__.jpg}"><div>#<span th:text="${parentsList.placeName}"></span></div></a>
            </div>
        </div>
	</div>
	
	<div id="AirplaneInformation">
    <div id="airplane-title">
    	<!-- <h1>Airplane Information</h1> -->
    	<div id="airplane-button-block">
    		<button class="airplane-button" id="startingPointButton">ì¶œë°œì§€: ì œì£¼</button>
    		<button class="airplane-button" id="destinationButton">ëª©ì ì§€: ì œì£¼</button>
    	</div>
    	<div id="airplane-title-img-div">
    		<img id="airplane-title-img" th:src="@{/resources/image/airplane-title-img3.png}">
    	</div>
    </div>
    <div th:if="${not #lists.isEmpty(boardings)}">
    <table id="flightTable">
        <tr>
        	<th class="airplane-flightDate">ë‚ ì§œ</th>
        	<th class="airplane-std">ì¶œë°œì‹œê°„</th>
        	<th class="airplane-etd">ë³€ê²½ì‹œê°„</th>
            <th class="airplane-boardingKor">ì¶œë°œì§€</th>
            <th class="airplane-arrivedKor">ëª©ì ì§€</th>
            <th class="airplane-airFln">í•­ê³µí¸</th>
            <th class="airplane-airlineKorean">í•­ê³µì‚¬</th>
           	<th class="airplane-rmkKor">í˜„í™©</th>
        </tr>
       	<tr th:each="boarding : ${boardings}">
           	<td class="airplane-flightDate" th:text="${boarding.flightDate}"></td>
            <td class="airplane-std">
            	<div th:if="${boarding.std.toString().length() == 3}">
    				<div th:text="${#strings.substring(boarding.std.toString(), 0, 1) + ':' + #strings.substring(boarding.std.toString(), 1)}"></div>
				</div>
             	<div th:if="${boarding.std.toString().length() == 4}">
    				<div th:text="${#strings.substring(boarding.std.toString(), 0, 2) + ':' + #strings.substring(boarding.std.toString(), 2)}"></div>
				</div>
            </td>
             <td class="airplane-etd" id="airplane-etd" >
             	<div th:if="${boarding.etd.toString().length() == 3}">
    				<div th:text="${#strings.substring(boarding.etd.toString(), 0, 1) + ':' + #strings.substring(boarding.etd.toString(), 1)}"></div>
				</div>
             	<div th:if="${boarding.etd.toString().length() == 4}">
    				<div th:text="${#strings.substring(boarding.etd.toString(), 0, 2) + ':' + #strings.substring(boarding.etd.toString(), 2)}"></div>
				</div>
             </td>
            <td class="airplane-boardingKor" th:text="${boarding.boardingKor}"></td>
            <td class="airplane-arrivedKor" th:text="${boarding.arrivedKor}"></td>
            <td class="airplane-airFln" th:text="${boarding.airFln}"></td>
          	<td class="airplane-airlineKorean">
			    <div class="airplane-airlineKorean-div" th:if="${boarding.airlineKorean == 'ëŒ€í•œí•­ê³µ'}">
			        <img class="airplane-airlineKorean-img" th:src="@{/resources/image/airplane-koreanair.png}">
			        <span th:text="${boarding.airlineKorean}"></span>
			    </div>
			    <div class="airplane-airlineKorean-div" th:if="${boarding.airlineKorean == 'ì•„ì‹œì•„ë‚˜í•­ê³µ'}">
			        <img class="airplane-airlineKorean-img" th:src="@{/resources/image/airplane-asiana.png}">
			        <span th:text="${boarding.airlineKorean}"></span>
			    </div>
			    <div class="airplane-airlineKorean-div" th:if="${boarding.airlineKorean == 'ì§„ì—ì–´'}">
			        <img class="airplane-airlineKorean-img" th:src="@{/resources/image/airplane-jinair.png}">
			        <span th:text="${boarding.airlineKorean}"></span>
			    </div>
			    <div class="airplane-airlineKorean-div" th:if="${boarding.airlineKorean == 'í‹°ì›¨ì´í•­ê³µ'}">
			        <img class="airplane-airlineKorean-img" th:src="@{/resources/image/airplane-tway.png}">
			        <span th:text="${boarding.airlineKorean}"></span>
			    </div>
			    <div class="airplane-airlineKorean-div" th:if="${boarding.airlineKorean == 'ì œì£¼í•­ê³µ'}">
			        <img class="airplane-airlineKorean-img" th:src="@{/resources/image/airplane-jeju.png}">
			        <span th:text="${boarding.airlineKorean}"></span>
			    </div>
			    <div class="airplane-airlineKorean-div" th:if="${boarding.airlineKorean == 'ì—ì–´ë¶€ì‚°'}">
			        <img class="airplane-airlineKorean-img" th:src="@{/resources/image/airplane-airbusan.png}">
			        <span th:text="${boarding.airlineKorean}"></span>
			    </div>
			    <div class="airplane-airlineKorean-div" th:if="${boarding.airlineKorean == 'ì—ì–´ë¡œì¼€ì´í•­ê³µ'}">
			        <img class="airplane-airlineKorean-img" th:src="@{/resources/image/airplane-aerok.png}">
			        <span th:text="${boarding.airlineKorean}"></span>
			    </div>
			    <div class="airplane-airlineKorean-div" th:if="${boarding.airlineKorean == 'í•˜ì´ì—ì–´'}">
			        <img class="airplane-airlineKorean-img" th:src="@{/resources/image/airplane-hiair.png}">
			        <span th:text="${boarding.airlineKorean}"></span>
			    </div>
			    <div class="airplane-airlineKorean-div" th:if="${boarding.airlineKorean == 'ì—ì–´ì„œìš¸'}">
			        <img class="airplane-airlineKorean-img" th:src="@{/resources/image/airplane-airseoul.png}">
			        <span th:text="${boarding.airlineKorean}"></span>
			    </div>
			    <div class="airplane-airlineKorean-div" th:if="${boarding.airlineKorean == 'ì´ìŠ¤íƒ€í•­ê³µ'}">
			    	<img class="airplane-airlineKorean-img" th:src="@{/resources/image/airplane-eastar.png}">
			    	<span th:text="${boarding.airlineKorean}"></span>
			    </div>
			</td>
            <td class="airplane-rmkKor">
            	<div class="airplane-rmkKor-ifdiv" th:if="${boarding.rmkKor == 'ì¶œë°œ'} or ${boarding.rmkKor == 'ë„ì°©'}">
            		<div class="airplane-rmkKor-ifdiv-div" th:text="${boarding.rmkKor}" style="background-color:#0067a3;"></div>
            	</div>
            	<div class="airplane-rmkKor-ifdiv"  th:if="${boarding.rmkKor == 'ì§€ì—°'} or ${boarding.rmkKor == 'ê²°í•­'}">
            		<div class="airplane-rmkKor-ifdiv-div" th:text="${boarding.rmkKor}" style="background-color: #dc143c;"></div>
            	</div>
            	<div class="airplane-rmkKor-ifdiv"  th:if="${boarding.rmkKor == ''} or ${boarding.rmkKor == null}">
            		<div class="airplane-rmkKor-ifdiv-div" th:text="${boarding.rmkKor}" style="background-color:white;"></div>
            	</div>
            	<div class="airplane-rmkKor-ifdiv"  th:if="${boarding.rmkKor != 'ì¶œë°œ'} and ${boarding.rmkKor != 'ë„ì°©'} and ${boarding.rmkKor != 'ì§€ì—°'} and ${boarding.rmkKor != 'ê²°í•­' } and ${boarding.rmkKor != ''} and ${boarding.rmkKor != null}">
            		<div class="airplane-rmkKor-ifdiv-div"  th:text="${boarding.rmkKor}" style="background-color: #32cd32;"></div>
            	</div>
            </td>
            
        </tr> 	
    </table>
  </div>
  <div th:if="${#lists.isEmpty(boardings) or boardings == null}">
  		<h5>ë‚˜ì˜´?</h5>
  </div>	 
</div>
	<script th:inline="javascript">
	var loginchk = [[${session.login}]];
	console.log(loginchk); 
	
	</script>

	<script type="text/javascript">

	document.addEventListener('DOMContentLoaded', function() {
		  window.addEventListener('load', function() {
		    $.ajax({
		      url: '/plan/airplane',
		      type: 'GET',
		      success: function(response) {
		        var popupWindow = window.open('', 'Course Preview', 'width=1000,height=700');
		        if (popupWindow && popupWindow.document) {
		          popupWindow.document.open();
		          popupWindow.document.write(response);
		          popupWindow.document.close();
		        } else {
		          // íŒì—… ì°¨ë‹¨ ë©”ì‹œì§€ ë˜ëŠ” ëŒ€ì²´ ì²˜ë¦¬ ë¡œì§
		          console.log('íŒì—… ì°¨ë‹¨ë˜ì—ˆê±°ë‚˜ íŒì—… ì°½ì„ ì—´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
		        }
		      }
		    });
	
		  });
		}); 

    </script>
	<script>
		new Swiper('.swiper-container', {

			slidesPerView : 2, // ë™ì‹œì— ë³´ì—¬ì¤„ ìŠ¬ë¼ì´ë“œ ê°¯ìˆ˜
			spaceBetween : 30, // ìŠ¬ë¼ì´ë“œê°„ ê°„ê²©
			slidesPerGroup : 2, // ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì„ ìˆ˜, slidesPerView ì™€ ê°™ì€ ê°’ì„ ì§€ì •í•˜ëŠ”ê²Œ ì¢‹ìŒ

			// ê·¸ë£¹ìˆ˜ê°€ ë§ì§€ ì•Šì„ ê²½ìš° ë¹ˆì¹¸ìœ¼ë¡œ ë©”ìš°ê¸°
			// 3ê°œê°€ ë‚˜ì™€ì•¼ ë˜ëŠ”ë° 1ê°œë§Œ ìˆë‹¤ë©´ 2ê°œëŠ” ë¹ˆì¹¸ìœ¼ë¡œ ì±„ì›Œì„œ 3ê°œë¥¼ ë§Œë“¬
			loopFillGroupWithBlank : true,

			loop : true, // ë¬´í•œ ë°˜ë³µ

			pagination : { // í˜ì´ì§•
				el : '.swiper-pagination',
				clickable : true, // í˜ì´ì§•ì„ í´ë¦­í•˜ë©´ í•´ë‹¹ ì˜ì—­ìœ¼ë¡œ ì´ë™, í•„ìš”ì‹œ ì§€ì •í•´ ì¤˜ì•¼ ê¸°ëŠ¥ ì‘ë™
			},
			navigation : { // ë„¤ë¹„ê²Œì´ì…˜
				nextEl : '.swiper-button-next', // ë‹¤ìŒ ë²„íŠ¼ í´ë˜ìŠ¤ëª…
				prevEl : '.swiper-button-prev', // ì´ë²ˆ ë²„íŠ¼ í´ë˜ìŠ¤ëª…
			},
		});
	</script>

</body>
</html>
